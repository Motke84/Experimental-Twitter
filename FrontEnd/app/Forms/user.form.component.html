<form class="form" [formGroup]="userForm" (ngSubmit)="addUser()">

    <div class="form-group">
        <label for="autorUser">User Name</label>
        <div class="input-group margin-bottom-sm">
            <span class="input-group-addon"><i class="fa fa-user fa-fw"></i></span>
            <input ngModel id="autorUser" name="autorUser" type="text" class="form-control" formControlName="autorUser" />
        </div>
        <div *ngIf="userForm.controls.autorUser.touched && userForm.controls.autorUser.errors">
            <div class="alert alert-danger" *ngIf="userForm.controls.autorUser.errors.required">
                User Name is required
            </div>
            <div class="alert alert-danger" *ngIf="userForm.controls.autorUser.errors.minlength ">
                User Name too short (required at least {{userForm.controls.autorUser.errors.minlength.requiredLength}} letters)
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="autorName">Full Name</label>
        <div class="dropdown">
            <div class="input-group margin-bottom-sm">
                <span class="input-group-addon"><i class="fa fa-address-book fa-fw"></i></span>
                <input ngModel id="autorName" name="autorName" type="text" class="form-control" formControlName="autorName" data-toggle="dropdown"
                    autocomplete="off" />
                <ul *ngIf="!userForm.controls.autorName.errors && (dataForComplition)?.length" class="dropdown-menu scrollable-menu" role="menu">
                    <li *ngFor="let comp of dataForComplition">
                        <a (click)="suggestionClick(comp)">{{comp.name}}</a>
                    </li>
                </ul>
            </div>
        </div>
        <div *ngIf="userForm.controls.autorName.touched && userForm.controls.autorName.errors">

            <div class="alert alert-danger" *ngIf="userForm.controls.autorName.errors.required">
                Name is required
            </div>

            <div class="alert alert-danger" *ngIf="userForm.controls.autorName.errors.minlength ">
                Name too short (required at least {{userForm.controls.autorName.errors.minlength.requiredLength}} letters)
            </div>

        </div>
    </div>

    <div class="form-group">
        <label for="email">Email</label>
        <div class="input-group margin-bottom-sm">
            <span class="input-group-addon"><i class="fa fa-envelope-o fa-fw"></i></span>
            <input id="email" name="email" ngModel type="text" class="form-control" formControlName="email" />
        </div>
        <div *ngIf="userForm.controls.email.touched && userForm.controls.email.errors">

            <div class="alert alert-danger" *ngIf="userForm.controls.email.errors.required">
                Email is required
            </div>

            <div class="alert alert-danger" *ngIf="userForm.controls.email.errors.pattern ">
                Email not in the correct format
            </div>

        </div>
    </div>
    <!-- pattern="^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})(\/(?:[\/\w \.-]*)*\/?)?([\/?#].*)?" -->
    <div class="form-group">
        <label for="autorImage">Picture</label>
        <div class="input-group margin-bottom-sm">
            <span class="input-group-addon"><i class="fa fa-picture-o fa-fw"></i></span>
            <input id="autorImage" name="autorImage" ngModel type="text" class="form-control" formControlName="autorImage" (input)="imageChanged($event)"
            />
        </div>
        <div *ngIf="userForm.controls.autorImage.touched && userForm.controls.autorImage.errors">

            <div class="alert alert-danger" *ngIf="userForm.controls.autorImage.errors.required">
                Picture link is required
            </div>

            <div class="alert alert-danger" *ngIf="userForm.controls.autorImage.errors.pattern ">
                Picture link not in the correct format
            </div>


        </div>
        <div *ngIf="userForm.controls.autorImage.value">
            <img class="img-rounded" src={{userForm.controls.autorImage.value}}>
        </div>
    </div>

    <div class="form-group">
        <label for="autorComments">Comment</label>
        <div class="input-group margin-bottom-sm">
            <span class="input-group-addon"><i class="fa fa-comments fa-fw"></i></span>
            <textarea id="autorComments" name="autorComments" ngModel cols="30" rows="10" class="form-control" formControlName="autorComments">
            </textarea>
        </div>
        <div class="alert alert-warning" *ngIf="userForm.controls.autorComments.touched && !userForm.controls.autorComments.valid">
            Comment is required</div>

        <div class="checkbox">
            <label>
                <input id="generate" name="generate" type="checkbox">Generate Comment</label>
        </div>
    </div>

    <div class="form-group">
        <label for="frequency">Frequency of emails</label>
        <div class="input-group margin-bottom-sm">
            <span class="input-group-addon"><i class="fa fa-envelope-o fa-fw"></i></span>

            <select ngModel name="frequency" id="frequency" class="form-control" formControlName="frequency">
            <option value=""></option>
            <option *ngFor="let frequency of frequencies" value="{{frequency.id}}">
                {{ frequency.label }}
            </option>
        </select>
        </div>
        <div class="alert alert-danger" *ngIf="userForm.controls.frequency.touched && !userForm.controls.frequency.valid">
            This field is required.
        </div>
    </div>

    <button class="btn btn-primary" type="sumbit" [disabled]="!userForm.valid">Sumbit</button>
</form>

<!-- (change) = "log(userNameInput)" 
-->